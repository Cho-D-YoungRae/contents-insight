# 지속 성장 가능한 설계를 만들어가는 방법 - 김재민

설계를 잘 하는 방법 -> 설계를 하지 않는 것

정말 말하고 싶은 주제는 '구현'

'개념'과 '격벽'이라는 키워드로 '구현'을 말함

만들려는 서비스에 생겨나는 개념을 생각하면 개념들을 머릿속으로 그루핑하게 댐

그러다보면 개념의 그룹이 지저분하고 장황해질 수 있음. 개념의 흐름이나 경계가 없어지거나

개념들 사이에 격벽을 세움 -> 개념 간의 접근을 제어하고 통제해야 함

이런 통제가 없다면 개념 간의 무분별한 참조가 발생하고 소프트웨어가 점점 더 개념이 없어질 것

격벽을 넘어갈 수 있는 개념을 통제

개념: 대출 -> 행위: 신청, 실행, 상황 => 개념: 대출, 신청, 실행, 상황  
이렇게 될 수 있음. 그리고 각 개념간의 참조 신청->실행->대출->상환

이러면 각각 개념에 대한 서비스(비즈니스 로직)

특정 개념에 대해 파생되는 여러 상태가 생길 수 있고, 특정 상태에 생기는 요구사항이 있을 수 있음  
코드가 해당 개념에 대해 계속 커질 수 있음

Repayment, RepaymentService 만 있던게 RepaymentBlockService, RepaymentRetryService, RepaymentValidator, ...

이럴 떄 격벽을 세워봄 -> 해당 개념은 상태가 나온 순간 더 이상 역할이 끝나고 새로운 개념이 발생해야 하는 것일 수 있음

상태는 개념은 아님. 개념에 상태가 존재하는 것

"하나의 개념이 많이 쓰이면 분리를 검토하자"

"상태에 의해 개념이 생기면 격벽을 세워보자"

"상태나 행위를 개념으로 착각할 수 있다"

커머스 사례로 알아보기

외부 연동사는 개념이 아니다

개념이 굉장히 많아지면 개념도 계층이 나눠지게 됨 -> 중요한 개념과 덜 중요한 개념들 1급, 2급,... 피라미드

모니터링, 테스팅 등 은 개념이 아님

개념은 우리가 만드는 소프트웨어의 비즈니스를 지탱하는 것

개념이 없는 곳과 개념이 있는 곳이 있고 외부 연동사는 개념 없는 곳에 속할 것

외부는 항상 우리의 의도와 다르게 변할 수 있으므로 외부에 두고 격리

외부 연동사는 참조 불가의 벽 안쪽에서 데이터를 긁어서 DB에 저장하는 역할만 해야함 -> 외부 연동사는 개념 없는 곳에 속하므로  
-> 수집 및 정제 영역, 개념 영역 으로 나눌 수 있음

"개념에도 계층이 있다"

"모든 것이 개념이 되진 않는다"

"개념 영역을 분리할 수 있다"

"요구사항은 계속 변한다"

"완벽한 설계란 없다"

"Software 는 Soft 해야한다"

"성급한 설계는 모든 것을 망가트린다"

"과도한 설계는 모든 것을 망가트린다"

"설계는 필요한 만큼만 하자" 

개념을 잡고

격벽을 세워

구현을 채워나가

설계를 완성한다
