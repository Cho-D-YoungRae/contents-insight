# DB 의존 개발을 하지말자

> [유튜브](https://www.youtube.com/watch?v=gRrOUT-VeZ4)

쿠폰 예제를 보면

- 쿠폰 엔티티를 조회하고
- 쿠폰 디테일 엔티티를조회하고
- 쿠폰, 쿠폰 디테일 개념객체를 만들고

이렇게 개발할 때를 생각해보면, 요구사항이 있고, 쿠폰 엔티티와 디테일 엔티티를 어떻게 만들지를 생각하면서 개발을 했을 것

하지만 쿠폰 디테일이라는 것이 온전한 개념인건가?

쿠폰에 대한 요구사항을 분석해보니 쿠폰 조건이 있고, 쿠폰 대상이 있고, 쿠폰 혜택이 있고...

요구사항이 이렇게 구분지어서 나눠져 있는데, 혹시 CouponDetail 이렇게 테이블 적으로 생각하는 것은 아닐까?

우리가 핸들링하는 개념객체와 디비 엔티티 영역을 분리한다면 그것들은 1:1 이 아닐 가능성이 높다

요구사항을 분석하다 보면 테이블을 먼저 생각하기 쉬운데, 그 전에 요구사항 속에 있는 개념이 어떤 것들이 있고 표현해야 되는게 어떤 개념들인 건지를 생각해보면 좋음

CouponDetail(별로인 이녀석이) 을 사용하면 CouponDetail 이 개념 객체가 여기저기 돌아다니게됨

CouponDetail 도 결국 다른 함수나 클래스로 넘어가는 순간에 객체에 대한 스콥이 계속 바뀌는 것이 좋을 것

스펙이 바뀌어서 개념 객체 1개에 대해 테이블이 더 다양하게 생길 수 있는데, 이런 저변에 있는 영역의 변경이 개념객체에 무조건적으로 영향을 안끼칠 수도 있음

맨날 이렇게 생각하기는 쉽지는 않은데, 개념이 아닌건데 개념을 뽑아볼까 하기보다는 소중하게 만들어야 되는, 소프트웨어 요구사항 안에서 중요한 것은 개념을 뽑아놓으면 좋음
