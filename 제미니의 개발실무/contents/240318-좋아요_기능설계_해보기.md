# 좋아요 기능설계 해보기+ 개발 요구사항의 이해

> [유튜브](https://www.youtube.com/watch?v=b5xWS8MYl0Q)

```text
트리 안에 좋아요 수
좋아요를 누를 수 있게
```

\[초심플]

- 트리 데이터 테이블에 컬럼 하나 추가하면 되지 않나?
- tree.likeCount +1

\[2일 뒤에 요구사항 추가]

- 내 정보가서 내 좋아요 목록 보여줄 수 있죠?
- 싫어요도 추가 되나요?
  - 감정 32개를 넣고 싶은데요?

\[역질문을 해야한다]

- 회원만 할 수 있나요?
- 중복으로 할 수 있나요?
- 좋아요 해제도 할 수 있나요?
- 등등... 구체화를 시켜야 한다

\[그래서 어떻게 구현했나?]

- reaction 이라는 테이블을 만듦
  - target_type(SHELF), type(LIKE) 있음
- reaction 이 있으면 생성, 있으면(삭제되었었으면, sofe delete) 활성화

\[패턴을 보자]

> 왜 이런 선택을 했는가?

- 좋아요는 조회가 더 많을 것
- 좋아요 같은 것들은 테이블을 분리하는 경우가 많은 것 같음
  - likeCount 같은 것들은 캐시를 씀
- 무조건 테이블 떼는 것이 아니라, 왜 테이블을 떼기로 결정했는지를 고민해야함
